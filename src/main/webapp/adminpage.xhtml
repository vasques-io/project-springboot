<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:p="http://primefaces.org/ui">
<h:head>
<meta charset="UTF-8"/>
<title>Insert title here</title>
</h:head>
<h:body>



	<h:form id="frmUsuario">
	
		<p:toolbar>
		
			<f:facet name="left">
			
				<p:button value="Cadastrar" style="margin-right: 14px" icon="pi pi-user-plus" outcome="cadastrar.xhtml"/>
					
				<p:commandButton type="button" value="Sair" icon="pi pi-unlock" />
				
			</f:facet>
			
			<f:facet name="right">
			
			<p:inputText />
			<p:commandButton type="button"  icon="pi pi-search" style="margin-left: 14px"/>
			
			</f:facet>
		
		</p:toolbar>
		
		<p:dataTable id="usuarios-table" value="#{usuarioController.usuarios}" var="usuario">
		
			<f:facet name="header">
				<h2>Tabela de usuários</h2>
			</f:facet>
		
			<p:column headerText="Nome" style="border: 1px solid #ccc">
			
				<h:outputText value="#{usuario.nome}"/>
				
			</p:column>
			
			<p:column headerText="Endereço" style="border: 1px solid #ccc">
			
				<h:outputText value="#{usuario.endereco}"/>
				
			</p:column>
			
			<p:column headerText="Data de nascimento" style="border: 1px solid #ccc">
			
				<h:outputText value="#{usuario.data}"/>
				
			</p:column>
			
			<p:column style="width: 2.5%; border:1px solid #ccc">
			
				<p:commandButton icon="pi pi-pencil" update="meuForm" onclick="PF('nomeModal').show(); event.preventDefault();" action="#{usuarioController.editar(usuario)}"/>
			
			</p:column>
			
			<p:column style="width: 2.5%; border:1px solid #ccc">
			
				<p:commandButton action="#{usuarioController.excluir(usuario)}" update="usuarios-table" icon="pi pi-trash" style="background-color: red; border-color: red;"/>
			
			</p:column>
			
			
		
		</p:dataTable>
		
		
		

	</h:form>
	
	<p:dialog header="Editar Usuário" widgetVar="nomeModal" modal="true" onShow="PF('nomeModal').show()">
	
		<h:form id="meuForm">
		    <p:panelGrid columns="2">
		    
		      <p:outputLabel for="nome" value="Nome:" />
		      <p:inputText id="nome" value="#{usuarioController.usuario.nome}"/>
		
		      <p:outputLabel for="endereco" value="Endereço:" />
		      <p:inputText id="endereco" value="#{usuarioController.usuario.endereco}"/>
		
		      <p:outputLabel for="data" value="Data:" />
		      <p:calendar id="data" value="#{usuarioController.usuario.data}"/>
		
		      <p:commandButton value="Salvar" action="#{usuarioController.salvar}"  />
		    </p:panelGrid>
		  </h:form>
	</p:dialog>

	
            
</h:body>
</html>
